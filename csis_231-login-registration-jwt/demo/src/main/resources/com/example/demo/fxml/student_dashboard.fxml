<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.demo.student.StudentDashboardController"
            prefWidth="1280" prefHeight="800"
            styleClass="glass-pane">
    <top>
        <HBox spacing="16" alignment="CENTER_LEFT" styleClass="topbar">
            <children>
                <Label text="ðŸŽ“ Student" styleClass="toolbar-title-large"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="welcomeLabel" text="Welcome" styleClass="stat-label"/>
                <Button fx:id="visualizeButton" text="Visualize Progress" onAction="#onOpenGraphics" styleClass="secondary-button" visible="false" managed="false"/>
                <Button text="Course Catalog" onAction="#onOpenCatalog" styleClass="ghost-button"/>
                <Button text="Logout" onAction="#onLogout" styleClass="ghost-button"/>
            </children>
            <padding><Insets top="16" bottom="16" left="24" right="24"/></padding>
        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" styleClass="content-scroll">
            <content>
                <VBox spacing="24" styleClass="page-section">
                    <children>

                        <Label text="Dashboard Overview" styleClass="title-label"/>

                        <HBox spacing="16">
                            <VBox spacing="10" styleClass="card" HBox.hgrow="ALWAYS">
                                <Label text="ðŸ“š Enrolled Courses" styleClass="card-heading"/>
                                <Label fx:id="enrolledCountLabel" text="0" styleClass="stat-value"/>
                                <Label text="Active enrollments" styleClass="muted"/>
                            </VBox>
                            <VBox spacing="10" styleClass="card" HBox.hgrow="ALWAYS">
                                <Label text="ðŸ§  Upcoming Quizzes" styleClass="card-heading"/>
                                <Label fx:id="upcomingCountLabel" text="0" styleClass="stat-value"/>
                                <Label text="Across your courses" styleClass="muted"/>
                            </VBox>
                            <VBox spacing="10" styleClass="card" HBox.hgrow="ALWAYS">
                                <Label text="â­ Last Score" styleClass="card-heading"/>
                                <Label fx:id="lastScoreLabel" text="â€”" styleClass="stat-subtitle"/>
                                <Label text="Most recent quiz" styleClass="muted"/>
                            </VBox>
                        </HBox>

                        <VBox spacing="12" styleClass="management-card">
                            <children>
                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <children>
                                        <Label text="Enrolled Courses" styleClass="title-label"/>
                                        <Region HBox.hgrow="ALWAYS"/>
                                        <Button text="Browse Catalog" onAction="#onOpenCatalog" styleClass="secondary-button"/>
                                    </children>
                                </HBox>

                                <TableView fx:id="enrolledTable" prefHeight="360">
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                                    </columnResizePolicy>
                                    <columns>
                                        <TableColumn fx:id="courseTitleColumn" text="Course" prefWidth="320"/>
                                        <TableColumn fx:id="courseActionColumn" text="Action" prefWidth="180"/>
                                    </columns>
                                    <placeholder><Label text="Not enrolled yet"/></placeholder>
                                </TableView>
                            </children>
                        </VBox>

                        <VBox spacing="12" styleClass="management-card">
                            <children>
                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <children>
                                        <Label text="Upcoming Quizzes" styleClass="title-label"/>
                                    </children>
                                </HBox>

                                <TableView fx:id="quizTable" prefHeight="320">
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                                    </columnResizePolicy>
                                    <columns>
                                        <TableColumn fx:id="quizNameColumn" text="Quiz" prefWidth="320"/>
                                        <TableColumn fx:id="quizQuestionColumn" text="Questions" prefWidth="120"/>
                                        <TableColumn fx:id="quizActionColumn" text="Action" prefWidth="180"/>
                                    </columns>
                                    <placeholder><Label text="No quizzes available"/></placeholder>
                                </TableView>
                            </children>
                        </VBox>

                    </children>
                </VBox>
            </content>
        </ScrollPane>
    </center>
</BorderPane>
