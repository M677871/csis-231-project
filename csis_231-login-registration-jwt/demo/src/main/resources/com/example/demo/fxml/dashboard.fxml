<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.demo.admin.DashboardController"
            prefWidth="1280" prefHeight="800"
            styleClass="glass-pane">
    <top>
        <HBox spacing="16" alignment="CENTER_LEFT" styleClass="topbar">

                <Label text="ðŸš€ Learn Online" styleClass="toolbar-title-large"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="welcome" text="Welcome" styleClass="stat-label"/>
                <Button text="Logout" onAction="#onLogout" styleClass="ghost-button"/>

            <padding>
                <Insets top="16" bottom="16" left="24" right="24"/>
            </padding>
        </HBox>
    </top>

    <center>
        <ScrollPane fitToHeight="true" fitToWidth="true" styleClass="content-scroll">

                <VBox spacing="32" styleClass="page-section">

                        <Label text="Dashboard Overview" styleClass="title-label"/>

                        <HBox spacing="24" alignment="TOP_LEFT">
                            <!-- Profile Card -->
                            <VBox spacing="20" styleClass="card" HBox.hgrow="ALWAYS">

                                    <Label text="ðŸ‘¤ Profile" styleClass="card-heading-large"/>
                                    <GridPane hgap="16" vgap="12">
                                        <columnConstraints>
                                            <ColumnConstraints percentWidth="35"/>
                                            <ColumnConstraints percentWidth="65"/>
                                        </columnConstraints>

                                            <Label text="UserName"  styleClass="field-label" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                                            <Label fx:id="name" text="" styleClass="profile-value" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                                            <Label text="Email" styleClass="field-label" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                                            <Label fx:id="email" text="" styleClass="profile-value" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                                            <Label text="Role"  styleClass="field-label" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                                            <Label fx:id="role" text="" styleClass="profile-value" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                                    </GridPane>

                            </VBox>

                            <!-- Quick Actions Card -->
                            <VBox spacing="20" styleClass="card" HBox.hgrow="ALWAYS">

                                    <Label text="âš¡ Quick Actions" styleClass="card-heading-large"/>
                                    <VBox spacing="16">

                                            <Button text="ðŸ‘¥ User Management" styleClass="primary-button" onAction="#openUsers" maxWidth="Infinity"/>
                                            <Button text="ðŸ“ Category Management" styleClass="secondary-button" onAction="#openCategories" maxWidth="Infinity"/>
                                            <Button text="ðŸ“š Courses Management" styleClass="primary-button" onAction="#openCourses" maxWidth="Infinity"/>
                                            <Button text="ðŸ§¾ Enrollments Management" styleClass="secondary-button" onAction="#openEnrollments" maxWidth="Infinity"/>
                                            <Button text="ðŸ“ˆ Data Visualizations" styleClass="ghost-button" onAction="#openVisuals" maxWidth="Infinity"/>

                                    </VBox>
                                    <Label text="ðŸ’¡ Tip: You can return here anytime from any management screen." styleClass="muted"/>

                            </VBox>
                         </HBox>

                        <VBox spacing="12" styleClass="management-card">
                            <children>
                                <Label text="My Enrollments" styleClass="title-label"/>
                                <TableView fx:id="myEnrollmentsTable" prefHeight="260">
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                                    </columnResizePolicy>
                                    <columns>
                                        <TableColumn fx:id="myCourseTitleColumn" text="Course" prefWidth="360"/>
                                        <TableColumn fx:id="myCourseStatusColumn" text="Status" prefWidth="160"/>
                                        <TableColumn fx:id="myCourseEnrolledAtColumn" text="Enrolled At" prefWidth="240"/>
                                        <TableColumn fx:id="myCourseActionColumn" text="Action" prefWidth="140"/>
                                    </columns>
                                    <placeholder><Label text="You are not enrolled in any courses"/></placeholder>
                                </TableView>
                            </children>
                        </VBox>

                        <VBox spacing="12" styleClass="management-card">
                            <children>
                                <Label text="Upcoming Quizzes" styleClass="title-label"/>
                                <TableView fx:id="upcomingQuizTable" prefHeight="240">
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                                    </columnResizePolicy>
                                    <columns>
                                        <TableColumn fx:id="upcomingCourseColumn" text="Course" prefWidth="260"/>
                                        <TableColumn fx:id="upcomingQuizNameColumn" text="Quiz" prefWidth="240"/>
                                        <TableColumn fx:id="upcomingQuizQuestionsColumn" text="Questions" prefWidth="120"/>
                                        <TableColumn fx:id="upcomingQuizActionColumn" text="Action" prefWidth="140"/>
                                    </columns>
                                    <placeholder><Label text="No pending quizzes"/></placeholder>
                                </TableView>
                            </children>
                        </VBox>

                </VBox>

        </ScrollPane>
    </center>
</BorderPane>
